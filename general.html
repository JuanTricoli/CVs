<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <meta name="description" content="CV interactivo de Juan Tricoli - Especialista Técnico, Soporte Operativo y Resolución de Problemas." />
  <title>CV - Juan Tricoli</title>
  <link rel="stylesheet" href="styles.css" />
  <link rel="icon" href="favicon.ico" type="image/x-icon" />
  <script defer src="script.js"></script>
  <style>
    /* Importar fuente */
    @import url('https://fonts.googleapis.com/css2?family=Montserrat:wght@300;400;700&display=swap');

    /* Regla para usuarios que prefieren reducir animaciones */
    @media (prefers-reduced-motion: reduce) {
      * {
        animation: none !important;
        transition: none !important;
      }
    }

    /* Estilos generales */
    body {
      font-family: 'Montserrat', sans-serif;
      background: linear-gradient(180deg, #2C2C2C 0%, #3F3F3F 100%);
      color: white;
      text-align: center;
      margin: 0;
      padding: 0;
      overflow-x: hidden;
      background-size: 400% 400%;
      animation: gradientShift 30s ease-in-out infinite;
    }
    @keyframes gradientShift {
      0% { background-position: 0% 50%; }
      50% { background-position: 100% 50%; }
      100% { background-position: 0% 50%; }
    }

    /* Contenedor principal con animación sutil */
    .container {
      max-width: 600px;
      margin: 40px auto;
      padding: 20px;
      box-shadow: 0 8px 20px rgba(0, 0, 0, 0.6);
      border-radius: 20px;
      background-color: rgba(0, 0, 0, 0.3);
      position: relative;
      overflow: hidden;
      animation: floatyTilt 8s ease-in-out infinite, fadeInUp 1s ease forwards;
    }
    @keyframes floatyTilt {
      0% { transform: translateY(0) rotate(0deg); }
      25% { transform: translateY(-8px) rotate(1.5deg); }
      50% { transform: translateY(0) rotate(0deg); }
      75% { transform: translateY(-5px) rotate(-1.5deg); }
      100% { transform: translateY(0) rotate(0deg); }
    }
    @keyframes fadeInUp {
      0% { opacity: 0; transform: translateY(20px); }
      100% { opacity: 1; transform: translateY(0); }
    }

    /* Perfil */
    .profile-pic {
      width: 150px;
      height: 150px;
      border-radius: 50%;
      border: 3px solid white;
      transition: transform 0.3s, box-shadow 0.3s;
    }
    .profile-pic:hover {
      transform: scale(1.05);
      box-shadow: 0 4px 10px rgba(255, 255, 255, 0.3);
    }

    /* Cambiador de idioma */
    .lang-switch {
      display: flex;
      justify-content: center;
      gap: 10px;
      margin-bottom: 10px;
    }
    .lang-btn {
      display: inline-flex;
      align-items: center;
      gap: 5px;
      background: rgba(255, 255, 255, 0.2);
      border: none;
      border-radius: 20px;
      color: white;
      font-weight: bold;
      font-size: 14px;
      cursor: pointer;
      padding: 6px 12px;
      transition: background 0.3s, transform 0.2s;
    }
    .lang-btn:hover {
      transform: scale(1.05);
      background: #00ffa2;
      color: #2C2C2C;
    }
    .lang-btn.active {
      background: #00ffa2;
      color: #2C2C2C;
    }

    /* Botón de LinkedIn */
    .linkedin-btn {
      display: inline-block;
      padding: 10px 20px;
      margin: 10px 0;
      color: white;
      background: #0077B5;
      border-radius: 10px;
      text-decoration: none;
      font-weight: bold;
      transition: background 0.3s, transform 0.3s;
    }
    .linkedin-btn:hover {
      background: #005a8c;
      transform: scale(1.05);
    }

    /* Botones para secciones y utilidades */
    .buttons { margin-top: 20px; }
    .toggle-btn {
      display: block;
      width: 100%;
      margin: 10px 0;
      padding: 12px;
      border: none;
      color: white;
      font-weight: bold;
      font-size: 16px;
      border-radius: 30px;
      cursor: pointer;
      position: relative;
      overflow: hidden;
      background: rgba(255, 255, 255, 0.2);
      transition: background 0.3s, transform 0.2s;
      animation: pulseBtn 3s infinite ease-in-out;
    }
    @keyframes pulseBtn {
      0% { transform: scale(1); }
      50% { transform: scale(1.01); }
      100% { transform: scale(1); }
    }
    .toggle-btn:hover {
      background: #00ffa2;
      color: #2C2C2C;
      transform: scale(1.02);
    }
    .glow {
      animation: softGlow 3s ease-in-out infinite;
    }
    @keyframes softGlow {
      0% { box-shadow: 0 0 0px #fff, 0 0 0px #00ffa2, 0 0 1px #00ffa2; }
      50% { box-shadow: 0 0 2px #fff, 0 0 3px #00ffa2, 0 0 5px #00ffa2; }
      100% { box-shadow: 0 0 0px #fff, 0 0 0px #00ffa2, 0 0 1px #00ffa2; }
    }
    .toggle-btn:active::after {
      content: '';
      position: absolute;
      left: 50%;
      top: 50%;
      transform: translate(-50%, -50%);
      width: 120px;
      height: 120px;
      background: rgba(255, 255, 255, 0.6);
      border-radius: 50%;
      animation: ripple 0.6s ease-out;
      pointer-events: none;
    }
    @keyframes ripple {
      0% { transform: translate(-50%, -50%) scale(0.2); opacity: 1; }
      100% { transform: translate(-50%, -50%) scale(2); opacity: 0; }
    }

    /* Secciones colapsables */
    .info-box {
      max-height: 0;
      overflow: hidden;
      opacity: 0;
      margin-top: 5px;
      border-radius: 15px;
      background: rgba(0, 0, 0, 0.7);
      padding: 0 20px;
      transition: max-height 0.7s ease, opacity 0.7s ease, padding 0.7s ease;
      text-align: left;
    }
    .info-box.visible {
      opacity: 1;
      padding: 20px;
      max-height: 1000px;
    }
    .info-item {
      background: rgba(255,255,255,0.05);
      margin-bottom: 15px;
      padding: 10px;
      border-radius: 10px;
      box-shadow: 0 0 10px rgba(255,255,255,0.05);
      transition: transform 0.3s, background 0.3s;
      opacity: 0;
      transform: translateY(15px);
    }
    .info-box.visible .info-item {
      animation: fadeInSlide 0.6s forwards;
    }
    .info-box.visible .info-item:nth-child(1) { animation-delay: 0.1s; }
    .info-box.visible .info-item:nth-child(2) { animation-delay: 0.2s; }
    .info-box.visible .info-item:nth-child(3) { animation-delay: 0.3s; }
    .info-box.visible .info-item:nth-child(4) { animation-delay: 0.4s; }
    .info-box.visible .info-item:nth-child(5) { animation-delay: 0.5s; }
    @keyframes fadeInSlide {
      to { opacity: 1; transform: translateY(0); }
    }
    .info-item:hover {
      background: rgba(255,255,255,0.1);
      transform: scale(1.02);
    }
    h3 {
      font-weight: 700;
      transition: transform 0.3s, color 0.3s;
    }
    h3:hover {
      color: #00ffa2;
      transform: scale(1.05);
    }

    /* Contacto y animaciones de pulsado */
    @keyframes subtlePulse {
      0% { color: #fff; transform: scale(1); }
      50% { color: #00ffa2; transform: scale(1.05); }
      100% { color: #fff; transform: scale(1); }
    }
    .pulseData { animation: subtlePulse 3s infinite ease-in-out; }

    /* Formulario de contacto */
    form {
      display: flex;
      flex-direction: column;
      gap: 10px;
      margin-top: 15px;
    }
    label {
      font-weight: 400;
      margin-bottom: 5px;
      transition: color 0.3s ease, transform 0.3s ease;
    }
    label:hover {
      color: #00ffa2;
      transform: scale(1.03);
    }
    input, textarea {
      padding: 10px;
      border-radius: 5px;
      border: none;
      font-family: 'Montserrat', sans-serif;
      font-size: 14px;
    }
    input[type="submit"] {
      font-weight: bold;
      cursor: pointer;
      background-color: #00ffa2;
      color: #2C2C2C;
      transition: background 0.3s, transform 0.2s;
    }
    input[type="submit"]:hover {
      background-color: #00d68e;
      transform: scale(1.03);
    }
    .error-message {
      color: #ff6b6b;
      font-weight: bold;
      margin-top: 5px;
      display: none;
    }
    .error-message.visible { display: block; }

    /* Botones de utilidades */
    .utility-buttons {
      display: flex;
      justify-content: space-around;
      margin: 20px 0;
    }
    .utility-buttons button {
      margin: 0 5px;
      padding: 10px 15px;
      border: none;
      border-radius: 20px;
      color: white;
      background: rgba(255, 255, 255, 0.2);
      font-weight: bold;
      font-size: 14px;
      cursor: pointer;
      transition: background 0.3s, transform 0.2s;
      position: relative;
    }
    #toggleAll:hover {
      background: #FFC107;
      color: #2C2C2C;
    }
    #printBtn:hover {
      background: #8B5CF6;
      color: #2C2C2C;
    }
    .utility-buttons button:active::after {
      content: '';
      position: absolute;
      left: 50%;
      top: 50%;
      transform: translate(-50%, -50%);
      width: 80px;
      height: 80px;
      background: rgba(255, 255, 255, 0.6);
      border-radius: 50%;
      animation: ripple 0.6s ease-out;
      pointer-events: none;
    }

    /* Estilos para impresión */
    @media print {
      .lang-switch, .utility-buttons, .toggle-btn, .linkedin-btn {
        display: none !important;
      }
      body {
        background: white;
        color: black;
      }
      .container {
        box-shadow: none;
        background-color: white;
      }
    }

    /* Mensaje de éxito */
    .successMsg {
      display: none;
      text-align: center;
      background: rgba(0, 255, 162, 0.2);
      color: #00ffa2;
      padding: 15px;
      border-radius: 10px;
      margin-top: 10px;
      opacity: 0;
      transform: translateY(15px);
      transition: opacity 0.5s ease, transform 0.5s ease;
    }
    .successMsg.visible {
      display: block;
      opacity: 1;
      transform: translateY(0);
    }
  </style>
</head>
<body>
  <main>
    <div class="container" id="mainContainer">
      <!-- Cambiador de idioma -->
      <div class="lang-switch">
        <button class="lang-btn" id="langEn" aria-label="Switch to English"><span>🇺🇸</span>English</button>
        <button class="lang-btn" id="langEs" aria-label="Cambiar a español"><span>🇪🇸</span>Español</button>
      </div>

      <header>
        <img src="profile.jpg" alt="Juan Tricoli" class="profile-pic" />
        <h1 id="titleName"><strong>Juan Tricoli</strong></h1>
        <p id="titleRole"><em>Technical Specialist | Support & Operations | Problem Solver</em></p>
        <p id="titleLocation">Buenos Aires, Argentina</p>
        <a href="https://www.linkedin.com/in/juan-tricoli-80a272344/" target="_blank" class="linkedin-btn" id="linkedinBtn">View LinkedIn</a>
      </header>

      <!-- Botones de utilidades -->
      <div class="utility-buttons">
        <button id="toggleAll" aria-expanded="false">Expand All</button>
        <button id="printBtn">Print CV</button>
      </div>

      <section class="buttons">
        <!-- SOBRE MÍ / ABOUT ME -->
        <button class="toggle-btn glow" data-target="about" id="btnAbout" aria-expanded="false"></button>
        <div id="about" class="info-box">
          <p id="txtAbout"></p>
        </div>

        <!-- EXPERIENCIA -->
        <button class="toggle-btn glow" data-target="experience" id="btnExperience" aria-expanded="false"></button>
        <div id="experience" class="info-box">
          <div class="info-item">
            <h3 id="exp1Title"></h3>
            <p id="exp1Desc"></p>
          </div>
          <div class="info-item">
            <h3 id="exp2Title"></h3>
            <p id="exp2Desc"></p>
          </div>
        </div>

        <!-- HABILIDADES -->
        <button class="toggle-btn glow" data-target="skills" id="btnSkills" aria-expanded="false"></button>
        <div id="skills" class="info-box">
          <div class="info-item"><p id="skill1"></p></div>
          <div class="info-item"><p id="skill2"></p></div>
          <div class="info-item"><p id="skill3"></p></div>
          <div class="info-item"><p id="skill4"></p></div>
          <div class="info-item"><p id="skill5"></p></div>
        </div>

        <!-- EDUCACIÓN -->
        <button class="toggle-btn glow" data-target="education" id="btnEducation" aria-expanded="false"></button>
        <div id="education" class="info-box">
          <div class="info-item"><p id="edu1"></p></div>
          <div class="info-item"><p id="edu2"></p></div>
          <div class="info-item"><p id="edu3"></p></div>
        </div>

        <!-- IDIOMAS -->
        <button class="toggle-btn glow" data-target="languages" id="btnLanguages" aria-expanded="false"></button>
        <div id="languages" class="info-box">
          <div class="info-item"><p id="lang1"></p></div>
          <div class="info-item"><p id="lang2"></p></div>
        </div>

        <!-- PROYECTOS -->
        <button class="toggle-btn glow" data-target="projects" id="btnProjects" aria-expanded="false"></button>
        <div id="projects" class="info-box">
          <h3 id="projectsHeader"></h3>
          <div class="info-item"><p id="proj1"></p></div>
          <div class="info-item"><p id="proj2"></p></div>
          <div class="info-item"><p id="proj3"></p></div>
        </div>

        <!-- CONTACTO -->
        <button class="toggle-btn glow" data-target="contact" id="btnContact" aria-expanded="false"></button>
        <div id="contact" class="info-box">
          <div class="info-item">
            <h3 id="contactHeader"></h3>
            <p id="contactDesc"></p>
            <form id="theContactForm" novalidate>
              <label for="name" id="lblName"></label>
              <input type="text" id="name" name="name" required />

              <label for="phone" id="lblPhone"></label>
              <input type="tel" id="phone" name="phone" placeholder="e.g. 11 6567-7996" required />

              <label for="email" id="lblEmail"></label>
              <input type="email" id="email" name="email" required />

              <label for="message" id="lblMessage"></label>
              <textarea id="message" name="message" rows="4"></textarea>

              <input type="submit" id="btnSubmit" value="Send Message" />
              <div class="error-message" id="formErrorMsg"></div>
            </form>
            <!-- Mensaje de éxito -->
            <div class="successMsg" id="successMsg" aria-live="polite">Message sent successfully!</div>
          </div>
        </div>
      </section>
    </div>
  </main>

  <script>
    "use strict";
    // OBJETO CON LAS TRADUCCIONES (para CV orientado a trabajos más genéricos pero destacando mis capacidades técnicas)
    const translations = {
      en: {
        name: "Juan Tricoli",
        role: "Technical Specialist | Support & Operations | Problem Solver",
        location: "Buenos Aires, Argentina",
        linkedin: "View LinkedIn",
        expandAll: "Expand All",
        collapseAll: "Collapse All",
        printCV: "Print CV",
        btnAbout: "ABOUT ME",
        btnExperience: "EXPERIENCE",
        btnSkills: "SKILLS",
        btnEducation: "EDUCATION",
        btnLanguages: "LANGUAGES",
        btnProjects: "PROJECTS",
        btnContact: "CONTACT",
        txtAbout: "I am a versatile technical professional with extensive experience in support, troubleshooting, and operational maintenance. I excel at diagnosing and resolving technical issues, providing both remote and on-site assistance, and ensuring smooth operations in various environments. I am committed to continuous process improvement and delivering excellent customer service. As a native Spanish speaker with advanced English proficiency, I bring valuable bilingual communication skills that enhance my ability to work in diverse and multicultural settings.",
        exp1Title: "🔧 EREXIT3D - Support & Operations Specialist",
        exp1Desc: "📅 2020 - 2023 | Buenos Aires, Argentina\n✅ Diagnosed and repaired technical issues in computer systems and specialized equipment.\n✅ Delivered both remote and on-site support, resolved incidents, and conducted preventive maintenance.\n✅ Managed online operations, customer service, and provided technical advisory support.\n✅ Produced video content and promotional materials for the company.",
        exp2Title: "🛠️ Additional Experience",
        exp2Desc: "✅ Provided customer support in retail and service sectors, honing communication, conflict resolution, and teamwork skills.\n✅ Completed freelance projects in equipment repair and maintenance using effective troubleshooting methodologies.",
        skill1: "✅ Technical Support & Troubleshooting – Diagnosing and resolving technical issues effectively.",
        skill2: "✅ Equipment & System Maintenance – Repair and optimization of technical systems.",
        skill3: "✅ Technical Infrastructure Management – Setup, configuration, and troubleshooting of essential systems.",
        skill4: "✅ Customer Service – Delivering effective support and quality solutions.",
        skill5: "✅ Continuous Improvement – Adapting to new technologies and methodologies.",
        edu1: "🎓 Technical Systems – ETN35 Eduardo Latzina (2020 - 2023)",
        edu2: "🏆 PIED 2023 Award – \"AR Anatomy\" Project",
        edu3: "📌 Electronics Specialization – EEST N4 Base Aérea Palomar (2016 - 2019)",
        lang1: "🗣️ Spanish (Native)",
        lang2: "🗣️ English (Intermediate - continuously improving for professional contexts)",
        projectsHeader: "Featured Projects",
        proj1: "📱 AR Anatomy (2023) – Award-winning project demonstrating innovative technical solutions and interactive design.",
        proj2: "💻 Technical Support Project (Ongoing) – Freelance initiative focused on diagnosing and repairing technical systems, optimizing performance, and providing tailored solutions.",
        proj3: "🛠 Operational Efficiency Project (2022 - Present) – Initiative dedicated to optimizing system performance and ensuring reliable operations for small businesses.",
        contactHeader: "Get in Touch",
        contactDesc: "For inquiries, collaborations, or more info, you can call me at <span class=\"pulseData\">+54 11 6567-7996</span> or email <span class=\"pulseData\">tricolijuan3@gmail.com</span>.",
        lblName: "Name *",
        lblPhone: "Phone *",
        lblEmail: "Email *",
        lblMessage: "Message",
        msgPlaceholder: "Tell me more about your inquiry...",
        submitBtn: "Send Message",
        formError: "Please fill in all required fields."
      },
      es: {
        name: "Juan Tricoli",
        role: "Especialista Técnico | Soporte y Operaciones | Resolutor de Problemas",
        location: "Buenos Aires, Argentina",
        linkedin: "Ver LinkedIn",
        expandAll: "Expandir Todo",
        collapseAll: "Colapsar Todo",
        printCV: "Imprimir CV",
        btnAbout: "SOBRE MÍ",
        btnExperience: "EXPERIENCIA",
        btnSkills: "HABILIDADES",
        btnEducation: "EDUCACIÓN",
        btnLanguages: "IDIOMAS",
        btnProjects: "PROYECTOS",
        btnContact: "CONTACTO",
        txtAbout: "Soy un profesional técnico versátil con amplia experiencia en soporte, resolución de problemas y mantenimiento operativo. Destaco en el diagnóstico y solución de incidencias técnicas, brindando asistencia tanto remota como presencial, y asegurando el buen funcionamiento de sistemas en diversos entornos. Me comprometo con la mejora continua de procesos y a ofrecer un servicio al cliente de excelencia. Además, poseo un sólido dominio del inglés, lo que me permite interactuar eficazmente en entornos internacionales y ampliar mis oportunidades laborales.",
        exp1Title: "🔧 EREXIT3D - Especialista en Soporte y Operaciones Técnicas",
        exp1Desc: "📅 2020 - 2023 | Buenos Aires, Argentina\n✅ Diagnóstico y reparación de incidencias técnicas en sistemas informáticos y equipos especializados.\n✅ Brindé soporte técnico y operativo, tanto de forma remota como presencial, resolviendo incidentes y realizando mantenimiento preventivo.\n✅ Gestioné operaciones online, atención al cliente y tareas de asesoría técnica.\n✅ Produje contenido audiovisual y material promocional para la empresa.",
        exp2Title: "🛠️ Experiencia Adicional",
        exp2Desc: "✅ Proporcioné soporte al cliente en sectores de retail y servicios, desarrollando habilidades en comunicación, resolución de conflictos y trabajo en equipo.\n✅ Realicé proyectos freelance de reparación y mantenimiento de equipos, aplicando metodologías efectivas para la resolución de problemas.",
        skill1: "✅ Soporte Técnico & Resolución de Problemas – Diagnóstico y solución eficiente de incidencias técnicas.",
        skill2: "✅ Mantenimiento de Equipos & Sistemas – Reparación y optimización de sistemas técnicos.",
        skill3: "✅ Gestión de Infraestructura Técnica – Configuración, puesta en marcha y resolución de problemas en sistemas esenciales.",
        skill4: "✅ Atención al Cliente – Proveer soluciones efectivas y soporte de calidad.",
        skill5: "✅ Mejora Continua – Adaptación a nuevas tecnologías y metodologías innovadoras.",
        edu1: "🎓 Técnico en Sistemas – ETN35 Eduardo Latzina (2020 - 2023)",
        edu2: "🏆 Premio PIED 2023 – Proyecto \"AR Anatomy\"",
        edu3: "📌 Especialización en Electrónica – EEST N4 Base Aérea Palomar (2016 - 2019)",
        lang1: "🗣️ Español (Nativo)",
        lang2: "🗣️ Inglés (Intermedio - en constante mejora para contextos profesionales)",
        projectsHeader: "Proyectos Destacados",
        proj1: "📱 AR Anatomy (2023) – Proyecto galardonado que demuestra soluciones técnicas innovadoras y diseño interactivo.",
        proj2: "💻 Proyecto de Soporte Técnico (En Curso) – Iniciativa freelance enfocada en diagnosticar y reparar sistemas técnicos, optimizando su rendimiento y ofreciendo soluciones personalizadas.",
        proj3: "🛠 Proyecto de Eficiencia Operativa (2022 - Actualidad) – Iniciativa destinada a optimizar el rendimiento de sistemas y garantizar operaciones confiables para pequeñas empresas.",
        contactHeader: "Contacto",
        contactDesc: "Para consultas, colaboraciones o más información, puedes llamarme al <span class=\"pulseData\">+54 11 6567-7996</span> o escribir a <span class=\"pulseData\">tricolijuan3@gmail.com</span>.",
        lblName: "Nombre *",
        lblPhone: "Teléfono *",
        lblEmail: "Correo Electrónico *",
        lblMessage: "Mensaje",
        msgPlaceholder: "Cuéntame más sobre tu consulta...",
        submitBtn: "Enviar Mensaje",
        formError: "Por favor, completa todos los campos obligatorios."
      }
    };

    // Variables globales
    let currentLang = 'en';
    let allOpen = false;

    // Elementos del DOM
    const titleName = document.getElementById('titleName');
    const titleRole = document.getElementById('titleRole');
    const titleLocation = document.getElementById('titleLocation');
    const linkedinBtn = document.getElementById('linkedinBtn');
    const toggleAllBtn = document.getElementById('toggleAll');
    const printBtn = document.getElementById('printBtn');

    const btnAbout = document.getElementById('btnAbout');
    const txtAbout = document.getElementById('txtAbout');

    const btnExperience = document.getElementById('btnExperience');
    const exp1Title = document.getElementById('exp1Title');
    const exp1Desc = document.getElementById('exp1Desc');
    const exp2Title = document.getElementById('exp2Title');
    const exp2Desc = document.getElementById('exp2Desc');

    const btnSkills = document.getElementById('btnSkills');
    const skill1 = document.getElementById('skill1');
    const skill2 = document.getElementById('skill2');
    const skill3 = document.getElementById('skill3');
    const skill4 = document.getElementById('skill4');
    const skill5 = document.getElementById('skill5');

    const btnEducation = document.getElementById('btnEducation');
    const edu1 = document.getElementById('edu1');
    const edu2 = document.getElementById('edu2');
    const edu3 = document.getElementById('edu3');

    const btnLanguages = document.getElementById('btnLanguages');
    const lang1 = document.getElementById('lang1');
    const lang2 = document.getElementById('lang2');

    const btnProjects = document.getElementById('btnProjects');
    const projectsHeader = document.getElementById('projectsHeader');
    const proj1 = document.getElementById('proj1');
    const proj2 = document.getElementById('proj2');
    const proj3 = document.getElementById('proj3');

    const btnContact = document.getElementById('btnContact');
    const contactHeader = document.getElementById('contactHeader');
    const contactDesc = document.getElementById('contactDesc');
    const lblName = document.getElementById('lblName');
    const lblPhone = document.getElementById('lblPhone');
    const lblEmail = document.getElementById('lblEmail');
    const lblMessage = document.getElementById('lblMessage');
    const btnSubmit = document.getElementById('btnSubmit');
    const txtMessage = document.getElementById('message');
    const theContactFormEl = document.getElementById('theContactForm');
    const successMsg = document.getElementById('successMsg');
    const formErrorMsg = document.getElementById('formErrorMsg');

    // Botones de idioma
    const langEn = document.getElementById('langEn');
    const langEs = document.getElementById('langEs');

    // Lista de todos los botones de sección y cajas
    const toggleButtons = document.querySelectorAll('.toggle-btn');
    const infoBoxes = document.querySelectorAll('.info-box');

    // Función para actualizar el botón Expandir/Colapsar Todo según el estado actual
    function updateToggleAllButton() {
      allOpen = Array.from(infoBoxes).every(box => box.classList.contains('visible'));
      const t = translations[currentLang];
      toggleAllBtn.textContent = allOpen ? t.collapseAll : t.expandAll;
      toggleAllBtn.setAttribute('aria-expanded', allOpen);
    }

    // Función para cargar las traducciones
    function loadLang(lang) {
      currentLang = lang;
      const t = translations[lang];

      titleName.innerText = t.name;
      titleRole.innerText = t.role;
      titleLocation.innerText = t.location;
      linkedinBtn.innerText = t.linkedin;

      toggleAllBtn.innerText = allOpen ? t.collapseAll : t.expandAll;
      printBtn.innerText = t.printCV;

      btnAbout.innerText = t.btnAbout;
      btnExperience.innerText = t.btnExperience;
      btnSkills.innerText = t.btnSkills;
      btnEducation.innerText = t.btnEducation;
      btnLanguages.innerText = t.btnLanguages;
      btnProjects.innerText = t.btnProjects;
      btnContact.innerText = t.btnContact;

      txtAbout.innerText = t.txtAbout;

      exp1Title.innerText = t.exp1Title;
      exp1Desc.innerText = t.exp1Desc;
      exp2Title.innerText = t.exp2Title;
      exp2Desc.innerText = t.exp2Desc;

      skill1.innerText = t.skill1;
      skill2.innerText = t.skill2;
      skill3.innerText = t.skill3;
      skill4.innerText = t.skill4;
      skill5.innerText = t.skill5;

      edu1.innerText = t.edu1;
      edu2.innerText = t.edu2;
      edu3.innerText = t.edu3;

      lang1.innerText = t.lang1;
      lang2.innerText = t.lang2;

      projectsHeader.innerText = t.projectsHeader;
      proj1.innerText = t.proj1;
      proj2.innerText = t.proj2;
      proj3.innerText = t.proj3;

      contactHeader.innerText = t.contactHeader;
      contactDesc.innerHTML = t.contactDesc;
      lblName.innerText = t.lblName;
      lblPhone.innerText = t.lblPhone;
      lblEmail.innerText = t.lblEmail;
      lblMessage.innerText = t.lblMessage;
      txtMessage.placeholder = t.msgPlaceholder;
      btnSubmit.value = t.submitBtn;

      successMsg.classList.remove('visible');
      formErrorMsg.classList.remove('visible');
    }

    const userLang = navigator.language || navigator.userLanguage;
    let defaultLang = userLang.toLowerCase().startsWith('es') ? 'es' : 'en';
    loadLang(defaultLang);

    function updateLangButtons(activeLang) {
      langEn.classList.toggle('active', activeLang === 'en');
      langEs.classList.toggle('active', activeLang === 'es');
    }
    updateLangButtons(defaultLang);

    langEn.addEventListener('click', () => { loadLang('en'); updateLangButtons('en'); });
    langEs.addEventListener('click', () => { loadLang('es'); updateLangButtons('es'); });

    toggleButtons.forEach(btn => {
      btn.addEventListener('click', () => {
        const targetId = btn.getAttribute('data-target');
        const target = document.getElementById(targetId);

        if (target.classList.contains('visible')) {
          target.classList.remove('visible');
          btn.classList.add('glow');
          btn.style.animation = 'pulseBtn 3s infinite ease-in-out';
          btn.setAttribute('aria-expanded', 'false');
        } else {
          target.classList.add('visible');
          btn.classList.remove('glow');
          btn.style.animation = 'none';
          btn.setAttribute('aria-expanded', 'true');
        }
        updateToggleAllButton();
      });
    });

    toggleAllBtn.addEventListener('click', () => {
      allOpen = !allOpen;
      infoBoxes.forEach((box, idx) => {
        if (allOpen) {
          box.classList.add('visible');
          toggleButtons[idx].classList.remove('glow');
          toggleButtons[idx].style.animation = 'none';
          toggleButtons[idx].setAttribute('aria-expanded', 'true');
        } else {
          box.classList.remove('visible');
          toggleButtons[idx].classList.add('glow');
          toggleButtons[idx].style.animation = 'pulseBtn 3s infinite ease-in-out';
          toggleButtons[idx].setAttribute('aria-expanded', 'false');
        }
      });
      updateToggleAllButton();
    });

    printBtn.addEventListener('click', () => { window.print(); });

    theContactFormEl.addEventListener('submit', (e) => {
      e.preventDefault();
      theContactFormEl.classList.remove('error');
      formErrorMsg.classList.remove('visible');

      const nameVal = document.getElementById('name').value.trim();
      const phoneVal = document.getElementById('phone').value.trim();
      const emailVal = document.getElementById('email').value.trim();
      const msgVal = document.getElementById('message').value.trim();

      if (!nameVal || !phoneVal || !emailVal || !msgVal) {
        theContactFormEl.classList.add('error');
        formErrorMsg.textContent = translations[currentLang].formError;
        formErrorMsg.classList.add('visible');
        setTimeout(() => { theContactFormEl.classList.remove('error'); }, 1000);
        return;
      }

      const subject = encodeURIComponent(`Contact from ${nameVal}`);
      const body = encodeURIComponent(`Name: ${nameVal}\nPhone: ${phoneVal}\nEmail: ${emailVal}\nMessage: ${msgVal}`);
      const mailtoLink = `mailto:tricolijuan3@gmail.com?subject=${subject}&body=${body}`;

      window.location.href = mailtoLink;
      successMsg.classList.add('visible');
      theContactFormEl.reset();
    });
  </script>
</body>
</html>
